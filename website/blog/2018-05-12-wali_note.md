---
title: æ¬ç“¦å·¥ç¬”è®°1ï¼šssr
author: woobamboo
authorURL:
authorFBID:
---


æ¬ç“¦å·¥æ­å»ºè‡ªç”±ä¸Šç½‘ã€å¤šç”¨æˆ·ç®¡ç†å¹³å°

<!--truncate-->


æ¬ç“¦å·¥æ³¨å†Œæ•™ç¨‹è‡ªè¡Œç™¾åº¦ã€‚

1. æ³¨å†Œå®‰è£…ï¼šæ³¨å†Œå®Œ[ç™»å½•å¹¶å®‰è£…æ–°ç³»ç»Ÿ](https://kiwivm.64clouds.com/main.php)ï¼Œç‚¹å‡»`Install new OS`ï¼Œæˆ‘è¿™é‡Œå®‰è£…çš„æ˜¯ `ubuntu-18.04-x86_64`,ç­‰å¾…äº”åˆ†é’Ÿï¼Œè½¬åˆ°`Main controls`ï¼Œå³å¯çœ‹åˆ°æ–°ç³»ç»Ÿå®‰è£…æˆåŠŸäº†ã€‚

2. åˆå§‹åŒ–å¯†ç ï¼šç‚¹å‡»`stop`ï¼Œç„¶åè½¬åˆ°`Root password modification`ï¼Œå³å¯ç”Ÿæˆrootå¯†ç ï¼Œè¿™é‡Œè®°ä¸‹æ¥ã€‚ç„¶ååˆ°`Main controls`æ‰“å¼€æœåŠ¡å™¨ã€‚ï¼ˆä¼¼ä¹é‡å»ºè™šæ‹Ÿæœºçš„æ—¶å€™ï¼Œä¼šç»™ï¼Œä½†æ˜¯æˆ‘å¿˜äº†ã€‚ï¼‰

3. ç™»å½•æœåŠ¡å™¨ï¼Œå¹¶é…ç½®ï¼šç«¯å£,IPä¿¡æ¯åœ¨`Main controls`

   ```
   ssh -p 26791 root@66.78.xxx.356 # ç™»å½•åˆ°æœåŠ¡å™¨
   ```

4. æ­å»ºshadowsocks

   > ** pip install --upgrade pip #pipå®‰è£…å®Œä¹‹åï¼Œä¸è¦è¿è¡Œè¿™ä¸ªå‘½ä»¤ã€‚**

   ```
   âŒ é”™è¯¯ç»è¿‡ï¼š
   >apt-get update
   >apt install python-pip # v9.0.1
   >pip install --upgrade pip # 10.0.1
   >pip --version
   Traceback (most recent call last):
     File "/usr/bin/pip", line 9, in <module>
       from pip import main
   ImportError: cannot import name main

   >apt uninstall python-pip
   >apt install python-pip # åˆæ˜¯9.0.1
   >pip --version é”™è¯¯ä¿¡æ¯åŒä¸Šã€‚
   ğŸ¡ åœ¨ä¹‹å‰ï¼Œæˆ‘åªå¥½é‡æ–°å®‰è£…äº†è™šæ‹Ÿæœºï¼Œé‡æ–°å®‰è£…ä¸Šé¢çš„pip 9.0.1ï¼› è¿™æ¬¡æˆ‘åªæ˜¯ç‚¹äº†resetï¼›ç»“æœpipç«Ÿç„¶å˜æˆäº†æ–°ç‰ˆ10.0.1ï¼Œpipçš„ä½ç½®ä¼¼ä¹å˜äº†ã€‚ä¸ç®¡ä»–
   ğŸ¡ reset ä¹‹åï¼š
   >which pip
   /usr/local/bin/pip
   >pip --version
   pip 10.0.1 from /usr/local/lib/python2.7/dist-packages/pip (python 2.7ï¼‰
   >pip install setuptools
   >pip install shadowsocks
   >apt install npm #å‡†å¤‡å®‰è£…shadowsocks-managerï¼Œè¿›è¡Œå¤šç”¨æˆ·ç®¡ç†ï¼Œä¸€æ­¥åˆ°ä½ã€‚
   >npm i -g shadowsocks-manager
   >apt-get install shadowsocks-libev #å®‰è£…è¿™ä¸ªæ¥å¯åŠ¨shadowsocks-managerï¼›è¿˜å¯ä»¥å®‰è£…shadowsocks-python

   # å¯åŠ¨æœåŠ¡ï¼š
   >ss-manager -m aes-256-cfb -u --manager-address 127.0.0.1:6001
   # æˆ–è€…ï¼š
   >ssserver -m aes-256-cfb -p 12345 -k abcedf --manager-address 127.0.0.1:6001 # å‡ºé”™
   # è§£å†³é”™è¯¯ï¼šçœ‹ä¸‹é¢çš„å‚è€ƒé“¾æ¥: Kali 2.0 update...
   ```

5. [å¤šç”¨æˆ·ç®¡ç†è®¾ç½®](https://github.com/shadowsocks/shadowsocks-manager/wiki/WebGUI)ï¼å‚è€ƒé“¾æ¥ï¼Œè¯´çš„éå¸¸æ¸…æ¥šã€‚

   æ³¨æ„ï¼Œå…ˆè¦å¯åŠ¨shadowsocksï¼›ç„¶åå¯åŠ¨ssmgrï¼›ç„¶åå¯åŠ¨ssmgrè¿è¡Œwebguiç•Œé¢ã€‚

   ä¹Ÿå°±æ˜¯è¯´ï¼Œè¦å¯åŠ¨ä¸‰æ¬¡ï¼

   æœ€åæ‰“å¼€http://66.98.118.143:8090 ï¼ˆè¿™ä¸ªç«¯å£æ˜¯ï¼‰` webgui:port` ä¸­å®šä¹‰çš„ç«¯å£ã€‚

   éœ€è¦ä¿®æ”¹çš„åœ°æ–¹ï¼š

   + `ss.yml`å’Œ`webgui.yml`ä¸­çš„passwordï¼Œä¿®æ”¹æˆè‡ªå·±çš„ã€‚

   + ```
     # è¿™éƒ¨åˆ†çš„é‚®ç®±å’Œå¯†ç æ˜¯ç”¨äºå‘é€æ³¨å†ŒéªŒè¯é‚®ä»¶ï¼Œé‡ç½®å¯†ç é‚®ä»¶ï¼›è®¾ç½®æˆè‡ªå·±çš„ã€‚
     username: 'username'
     password: 'password'
     host: 'smtp.your-email.com'
     ```

   + é…ç½®æ”¯ä»˜å®ä¿¡æ¯

6. åç»­ï¼š

   é…ç½®mysqlï¼›é…ç½®ä¸­æ–‡æ”¯æŒ(åä¸¤ä¸ª,é…ç½®å®Œé‡å¯æœåŠ¡å™¨)ï¼›é…ç½®é»˜è®¤æµé‡ç­‰

   > ```
   > åé¢ä¸¤ä¸ªé…ç½®æ–‡ä»¶éƒ½é…ç½®æˆè¿™æ ·ï¼š#æˆ‘é¦–å…ˆç”¨Navicatåˆ›å»ºäº†ssmgræ•°æ®åº“ã€‚è¿™æ ·ä¹Ÿå¯ä»¥æ£€æµ‹è¿œç¨‹è¿æ¥æ˜¯å¦æœ‰é—®é¢˜ã€‚
   > db:
   >   host: '1.1.1.1'
   >   user: 'root'
   >   password: 'abcdefg'
   >   database: 'ssmgr'
   >
   >
   > ä½¿ç”¨mysqlæ—¶ï¼Œéœ€è¦å…³é—­only_full_group_by # å½“MySQL ç‰ˆæœ¬å¤§äº5.7æ—¶ã€‚
   > mysql> show session variables like '%sql_mode%';
   > +---------------+-------------------------------------------------------------------------------------------------------------------------------------------+
   > | Variable_name | Value                                                                                                                                     |
   > +---------------+-------------------------------------------------------------------------------------------------------------------------------------------+
   > | sql_mode      | ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION |
   > +---------------+-------------------------------------------------------------------------------------------------------------------------------------------+
   > 1 row in set (0.00 sec)
   >
   > mysql > SET GLOBAL sql_mode=(SELECT REPLACE(@@sql_mode,'ONLY_FULL_GROUP_BY',''));
   > mysql > flush privileges; #é‡å¯mysqlä¹‹åè¿˜è¦é‡æ–°è¿›è¡Œè®¾ç½®ã€‚
   > é‡å¯æœåŠ¡ï¼šservice mysql restart # æ²¡äº‹ä¸è¦é‡å¯ã€‚
   > ```


> å‚è€ƒï¼š

+ [ç§‘å­¦ä¸Šç½‘ï¼šVPSä¸Šæ­å»ºshadowsocks](https://www.flyzy2005.com/fan-qiang/shadowsocks/build-shadowsocks-on-vps/)


+ [Ubuntuå¼€å¯BBRåŠ é€ŸShadowsocks](https://www.flyzy2005.com/fan-qiang/shadowsocks/ubuntu-bbr-shadowsocks/)


+ [shadowsocks-manager ç®¡ç†å·¥å…·éƒ¨ç½²](http://bijizhan.com/post/shadowsocks-manager)


+ [Kali2.0 updateåˆ°æœ€æ–°ç‰ˆæœ¬åå®‰è£…shadowsocksæœåŠ¡æŠ¥é”™é—®é¢˜](https://blog.csdn.net/blackfrog_unique/article/details/60320737)
+ [äº‘æœåŠ¡å™¨Ubuntuç³»ç»Ÿä¸‹ä¸­æ–‡ä¹±ç é—®é¢˜è§£å†³æ–¹æ¡ˆ](https://blog.csdn.net/zhoucheng05_13/article/details/53375161)
+ [Cannot set LC_CTYPE to default locale: No such file or director](https://askubuntu.com/questions/599808/cannot-set-lc-ctype-to-default-locale-no-such-file-or-directory)




> å¤‡å¿˜ï¼šæˆ‘çš„æœ€ç»ˆé…ç½® xx.xx.xx.xxä¸ºæˆ‘çš„IPåœ°å€ï¼Œaaaabbbb ä¸ºæˆ‘çš„å¯†ç 

```
$ cat /root/.ssmgr/ss.yml
type: s

shadowsocks:
  address: 127.0.0.1:4000
manager:
  address: 0.0.0.0:4001
  password: 'jingyue949'
db:
  host:  xx.xx.xx.xx
  user: 'root'
  password: 'aaaabbbb'
  database: 'ssmgr'
```



```
type: m

manager:
  address: xx.xx.xx.xx:4001
  password: 'aaaabbbb'

plugins:
  flowSaver:
    use: true
  user:
    use: true
  account:
    use: true
  macAccount:
    use: true
  group:
    use: true
  email:
    use: true
    username: '158855945@qq.com'
    password: 'xx.xx.xx.xx'
    host: 'smtp.qq.com'
  webgui:
    use: true
    host: '0.0.0.0'
    port: '8090'
    site: 'http://yourwebsite.com'
    # googleAnalytics: 'UA-xxxxxxxx-x'
    gcmSenderId: '456102641793'
    gcmAPIKey: 'AAAAGzzdqrE:XXXXXXXXXXXXXX'

db:
  host: xx.xx.xx.xx
  user: 'root'
  password: 'aaaabbbb'
  database: 'ssmgr'
```

```
$ cat start_ss.sh è¿è¡Œè„šæœ¬ï¼Œå¼€å¯æœåŠ¡
#ç”¨æ¥æ‰§è¡Œç½‘ç»œä»£ç†æœåŠ¡ï¼å…¨éƒ¨æ‰§è¡Œå®Œä¹‹åï¼Œç½‘é¡µè®¿é—®http://xx.xx.xx.xx:8090/
echo "
ss-manager -m aes-256-cfb -u --manager-address 127.0.0.1:4000 &
ssmgr -c /root/.ssmgr/ss.yml &
ssmgr -c /root/.ssmgr/webgui.yml &
"
```



